---
layout: post
title: More buttons
date: '2015-10-29T15:20:00.001-07:00'
author: smelC
tags: 
modified_time: '2015-10-29T15:20:24.613-07:00'
blogger_id: tag:blogger.com,1999:blog-989893979829990763.post-5997613320207564362
blogger_orig_url: https://hgamesdev.blogspot.com/2015/10/more-buttons.html
---

<p>This week, I continued coding menus; by adding an action submenu that opens from the inventory, in a manner similar to what <a href="https://sites.google.com/site/broguegame/">brogue</a> does (I’m a brogue fan, ascended twice \o/). Here’s a picture of what I’m talking about:</p> <p><img src="http://i.imgur.com/dyd7IoN.png" alt="enter image description here" title=""></p> <p>See this menu on the right ? The code is the same as the one from my previous post. Except that this time the backing panel (a SquidPanel) is not full-screen, but its size is computed automatically from the button’s content. I added generic borders (the strong red with rounded corners) around the panel. The class is very flexible now, since it supports the border, x/y padding around text, and margins around buttons. In addition, I added an option to plug the <code>InputProcessor</code> (that handles clicks on buttons and keypresses) to the backing <a href="https://libgdx.badlogicgames.com/nightlies/docs/api/com/badlogic/gdx/scenes/scene2d/Stage.html">Stage</a>. This is desirable when the panel is placed in a hierarchy of <a href="https://libgdx.badlogicgames.com/nightlies/docs/api/com/badlogic/gdx/scenes/scene2d/Actor.html">Actors</a>.</p> <p>To use the menu for something, I added potion generation. I have one potion for now: the potion of health that restores the player’s health to its maximum. Next in line: potion of life and potion of telepathy (as in brogue).</p> <p>One issue remains on desktop, when the game loses focus, borders and margins that are rendered with a <a href="https://libgdx.badlogicgames.com/nightlies/docs/api/com/badlogic/gdx/graphics/glutils/ShapeRenderer.html">Shape Renderer</a> disappear. I don’t understand what’s going on because the map/panels aren’t redrawn, so they should not overwrite the margins. I guess I’ll suffer from this kind of thing all along my development, because I’m mixing two different manners of using libgdx: Actor and Groups VS direct shape rendering, and that doesn’t mix well.</p> <p>I’m impressed by <a href="https://libgdx.badlogicgames.com/">libgdx</a>, the code is simple to use; yet it is pretty powerful. I added a sliding panel to go back to the splash screen from the game screen and everything was there to do it, in a few lines. But that’ll be for another post!</p> <blockquote>  <p>Written with <a href="https://stackedit.io/">StackEdit</a> &lt;- StackEdit you rock, I wouldn’t write in anything else that markdown for these posts and the live preview is flawless.</p></blockquote>