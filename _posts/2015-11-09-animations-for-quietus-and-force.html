---
layout: post
title: Animations for Quietus and Force
date: '2015-11-09T09:46:00.001-08:00'
author: smelC
tags: 
modified_time: '2015-11-09T09:46:42.569-08:00'
thumbnail: https://i.ytimg.com/vi/EsZ4I2DBxzg/default.jpg
blogger_id: tag:blogger.com,1999:blog-989893979829990763.post-3330306294300353086
blogger_orig_url: https://hgamesdev.blogspot.com/2015/11/animations-for-quietus-and-force.html
---

<p>In the game I’m writing, I want to make more use of runics that <a href="https://sites.google.com/site/broguegame/">brogue</a> does. In brogue, you can have a single <a href="http://brogue.wikia.com/wiki/Runic">runic</a> on a weapon or armor. This is fun, but somehow limited, especially given that runics are pretty rare. In my game, I want runics 1/ to be more frequent and 2/ weapons and armors to be able to carry more than one runic, so that you get the opportunity to craft the ultimate war axe of <em>quietus</em>, <em>force</em>, and <em>teleportation</em>; meaning that a hit of your weapon can either instantly kill a monster, can push him back, or can teleport him away, and any combination thereof.</p> <p>So far I have implement quietus and force, like brogue does. I’ve done lights-based animations for them, as this video shows:</p> <iframe src="https://www.youtube.com/embed/EsZ4I2DBxzg?feature=player_detailpage" allowfullscreen="" height="360" width="640"></iframe> <p>The purple flashs show when <em>quietus</em> triggers and the  pink flash shows when <em>force</em> does. Initially, the rogue is wielding a weapon in each hand (one quietus, one force). Hence both runics can simultaneously trigger (well, if quietus does, then the monster is killed instantly; so force cannot hit afterwards, and if force hits first then the monster is pushed back so the second weapon cannot hit, but it’ll be possible with other runnics).</p> <p>For the animations I used <a href="https://github.com/SquidPony/SquidLib">SquidLib</a>’s support. There’s a <code>tint</code> method in <code>SquidPanel</code> that tints the color of the cell for a given time. With that I had the basic tool and then I added code to tint a set of cells at once. For the moment I have a beam animation (used for force, although shown only with a beam of length 2 in the video, but full support is there) and a square/tetris-shape animation for quietus. For force, I tried to slide the monster being pushed back’s symbol (<em>g</em> for a goblin, <em>k</em> for a kobold, etc.); because there’s support for that in <code>SquidPanel</code>. But it revealed quite tricky, because the game redraws itself during the animation, but I don’t have support for monsters that are here without really being here (I mean: where do I put the monster being pushed back during the animation ? at its start -&gt; wrong, at the end -&gt; wrong; so I have to craft support for <em>monsters being here while not being displayed</em>). It seemed too complicated for a first version, so I dropped the sliding animation for now.</p> <p>There’s support in <code>SquidLib</code> for area of effects animations (interface <code>AOE</code> and <code>Technique</code>) but they looked overly complicated for me, because the ones I looked at perform intensive-operations such as copying the array backing the whole level (60x30 for me). This seemed overkill to show a tetris-like shape or a single beam.</p> <p>Next I’ll implement generation of runics as items (for the moment they are on pickable weapons, but not on there own). I don’t want to program complex menus to put runics on items, so you’ll have to put the runics on an item as soon as you pick up the runic. The menu’s computation will propose all items you wield/have on which the runic makes sense. If this seems dubious to you, think that runics are so <a href="https://www.youtube.com/watch?feature=player_detailpage&amp;v=AqZcYPEszN8">intense</a>; you can’t keep them in your pack like food, their magic has to be dissipated into an item!</p> <blockquote>  <p>Written with <a href="https://stackedit.io/">StackEdit</a>.</p></blockquote>